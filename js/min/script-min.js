$(function(){function e(){!Modernizr.objectfit&&$(".img-fit").length&&$(".img-fit").each(function(){var e=$(this),t=e.find("img").prop("src");t&&e.css("backgroundImage","url("+t+")").addClass("compat-object-fit")})}function t(){i=$(document).scrollTop(),requestAnimFrame(t)}function a(e){var t=$("#mapFormMetropole");if(e.is(":checked")&&t.find(".active").length){if(void 0!==t.find(".active").attr("data-adjacent")){var a=t.find(".active").attr("data-adjacent").split(","),i=a.length,n=0;for(n;i>n;n++)t.find('[data-department="'+a[n]+'"]').attr("class","department adjacent")}}else if(!e.is(":checked")&&t.find(".adjacent").length){var c;t.find(".active").length&&(c=t.find(".active").attr("data-department")),o.attr("class","department"),c.length&&t.find('[data-department="'+c+'"]').attr("class","department active")}}var i,n=600;if(window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),e(),$(".social-footer").length&&$(".social-footer").addClass("closed").hover(function(){$(this).hasClass("closed")&&TweenMax.set($(this),{className:"-=closed"})},function(){var e=$(document).scrollTop();i+$(window).height()!=$(document).height()&&TweenMax.set($(this),{className:"+=closed"})}),$(".btn-choice").click(function(e){e.preventDefault(),$(this).closest(".choices").addClass("choice-"+($(this).closest("li").index()+1)+"-active choice-"+($(this).closest("li").index()+1)+"-animating")}),$(".btn-close-choice").click(function(e){e.preventDefault();var t=$(this).closest(".choices");t.removeClass("choice-1-active choice-2-active choice-3-active choice-4-active choice-5-active"),setTimeout(function(){t.removeClass("choice-1-animating choice-2-animating choice-3-animating choice-4-animating choice-5-animating")},n)}),$("#logo").on("click",function(){$("body").hasClass("sidebar-links-open")?$("body").removeClass("sidebar-links-open"):$("body").addClass("sidebar-links-open")}),$("#btn-close-sidebar-links").click(function(){$("body").removeClass("sidebar-links-open")}),$("#mapForm").length){var c=$("#mapForm"),s=c.find(".map-form"),o=c.find(".department"),d=$("#departement"),l=$("#departement-etendre"),r=c.find("a"),m=c.find(".map-btn"),f=c.find(".btn-metropole");o.on("click",function(e){o.attr("class","department"),$(this).attr("class","department active"),d.val($(this).attr("data-department")),a(l)}),d.on("change",function(e){o.attr("class","department"),c.find('[data-department="'+d.val()+'"]').length?c.find('[data-department="'+d.val()+'"]').attr("class","department active"):("92"===d.val()||"93"===d.val()||"94"===d.val())&&c.find('[data-department="75"]').attr("class","department active").siblings().attr("class","department"),a(l)}),l.on("change",function(e){a(l)}),r.on("click",function(e){e.preventDefault(),s.removeClass("active"),$($(this).attr("href")).addClass("active"),$(this).parents(".map-btn").length?(m.removeClass("active"),f.addClass("active")):(m.addClass("active"),f.removeClass("active"))})}t(),$(document).scroll(function(){i=$(document).scrollTop(),i+$(window).height()==$(document).height()?$(".social-footer").hasClass("closed")&&TweenMax.set($(".social-footer"),{className:"-=closed"}):$(".social-footer").hasClass("closed")||TweenMax.set($(".social-footer"),{className:"+=closed"})}),$(window).resize(function(){}),$(window).load(function(){})});